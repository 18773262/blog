## 体验 PostgreSQL|PolarDB 图式数据插件age和WEB产品age-viewer  
        
### 作者        
digoal        
        
### 日期        
2023-09-13        
        
### 标签        
PostgreSQL , PolarDB , age , age-viewer , 图式数据         
        
----        
        
## 背景     
获取镜像  
  
arm:  
```  
docker pull registry.cn-hangzhou.aliyuncs.com/digoal/opensource_database:pg14_with_exts_arm64    
```  
  
x86:  
```  
docker pull registry.cn-hangzhou.aliyuncs.com/digoal/opensource_database:pg14_with_exts    
```  
  
启动容器:  
  
arm:  
```  
docker run -d -it -p 3000:3000 --cap-add=SYS_PTRACE --cap-add SYS_ADMIN --privileged=true --name pg --shm-size=1g registry.cn-hangzhou.aliyuncs.com/digoal/opensource_database:pg14_with_exts_arm64    
```  
  
x86:  
```  
docker run --platform linux/amd64 -d -it -p 3000:3000 --cap-add=SYS_PTRACE --cap-add SYS_ADMIN --privileged=true --name pg --shm-size=1g registry.cn-hangzhou.aliyuncs.com/digoal/opensource_database:pg14_with_exts    
```  
  
进入容器:  
```  
docker exec -ti pg bash    
```  
  
创建age插件:  
```  
psql  
# create role r1 login encrypted password 'r1' ;  
# create database db1 with owner r1 ;  
# \c db1 postgres  
# create extension age;  
  
db1=# \dx  
                 List of installed extensions  
  Name   | Version |   Schema   |         Description            
---------+---------+------------+------------------------------  
 age     | 1.4.0   | ag_catalog | AGE database extension  
 plpgsql | 1.0     | pg_catalog | PL/pgSQL procedural language  
(2 rows)  
```  
  
打开图式数据可视化产品age-viewer  
```  
cd /tmp/age-viewer/  
npm run start  
```  
  
打开age-viewer web界面  
  
http://localhost:3000  
  
配置数据库连接(使用上面创建的db和role), 导入或在web中编辑图式数据.   
  
## 参考  
https://age.apache.org/  
  
https://github.com/apache/age-viewer  
  
  
